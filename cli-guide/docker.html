<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Docker - CLI Wiki</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">CLI Wiki</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="docker-command-wiki"><a class="header" href="#docker-command-wiki">Docker Command Wiki</a></h1>
<p>A comprehensive guide to installing, managing, and using Docker containers.</p>
<h2 id="installation"><a class="header" href="#installation">Installation</a></h2>
<h3 id="ubuntudebian"><a class="header" href="#ubuntudebian">Ubuntu/Debian</a></h3>
<pre><code>sudo apt update
sudo apt install apt-transport-https ca-certificates curl software-properties-common
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
echo "deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null
sudo apt update
sudo apt install docker-ce docker-ce-cli containerd.io
</code></pre>
<h3 id="centosrhelfedora"><a class="header" href="#centosrhelfedora">CentOS/RHEL/Fedora</a></h3>
<pre><code>sudo yum install -y yum-utils
sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
sudo yum install docker-ce docker-ce-cli containerd.io
</code></pre>
<h3 id="macos"><a class="header" href="#macos">macOS</a></h3>
<p>Install Docker Desktop from https://docker.com/products/docker-desktop</p>
<h3 id="windows"><a class="header" href="#windows">Windows</a></h3>
<p>Install Docker Desktop from https://docker.com/products/docker-desktop</p>
<h3 id="post-installation-setup"><a class="header" href="#post-installation-setup">Post-Installation Setup</a></h3>
<p>Add your user to docker group (Linux):</p>
<pre><code>sudo usermod -aG docker $USER
newgrp docker
</code></pre>
<p>Start Docker service:</p>
<pre><code>sudo systemctl start docker
sudo systemctl enable docker
</code></pre>
<p>Verify installation:</p>
<pre><code>docker --version
docker run hello-world
</code></pre>
<h2 id="basic-container-operations"><a class="header" href="#basic-container-operations">Basic Container Operations</a></h2>
<h3 id="run-a-container"><a class="header" href="#run-a-container">Run a container</a></h3>
<pre><code>docker run ubuntu
</code></pre>
<h3 id="run-container-interactively"><a class="header" href="#run-container-interactively">Run container interactively</a></h3>
<pre><code>docker run -it ubuntu bash
</code></pre>
<h3 id="run-container-in-background-detached"><a class="header" href="#run-container-in-background-detached">Run container in background (detached)</a></h3>
<pre><code>docker run -d nginx
</code></pre>
<h3 id="run-with-custom-name"><a class="header" href="#run-with-custom-name">Run with custom name</a></h3>
<pre><code>docker run --name my-nginx nginx
</code></pre>
<h3 id="run-with-port-mapping"><a class="header" href="#run-with-port-mapping">Run with port mapping</a></h3>
<pre><code>docker run -p 8080:80 nginx
</code></pre>
<h3 id="run-with-volume-mounting"><a class="header" href="#run-with-volume-mounting">Run with volume mounting</a></h3>
<pre><code>docker run -v /host/path:/container/path ubuntu
</code></pre>
<h3 id="run-with-environment-variables"><a class="header" href="#run-with-environment-variables">Run with environment variables</a></h3>
<pre><code>docker run -e MYSQL_ROOT_PASSWORD=mypassword mysql
</code></pre>
<h3 id="run-and-remove-when-stopped"><a class="header" href="#run-and-remove-when-stopped">Run and remove when stopped</a></h3>
<pre><code>docker run --rm ubuntu echo "Hello World"
</code></pre>
<h2 id="container-management"><a class="header" href="#container-management">Container Management</a></h2>
<h3 id="list-running-containers"><a class="header" href="#list-running-containers">List running containers</a></h3>
<pre><code>docker ps
</code></pre>
<h3 id="list-all-containers-including-stopped"><a class="header" href="#list-all-containers-including-stopped">List all containers (including stopped)</a></h3>
<pre><code>docker ps -a
</code></pre>
<h3 id="stop-a-container"><a class="header" href="#stop-a-container">Stop a container</a></h3>
<pre><code>docker stop container_name
</code></pre>
<h3 id="start-a-stopped-container"><a class="header" href="#start-a-stopped-container">Start a stopped container</a></h3>
<pre><code>docker start container_name
</code></pre>
<h3 id="restart-a-container"><a class="header" href="#restart-a-container">Restart a container</a></h3>
<pre><code>docker restart container_name
</code></pre>
<h3 id="remove-a-container"><a class="header" href="#remove-a-container">Remove a container</a></h3>
<pre><code>docker rm container_name
</code></pre>
<h3 id="remove-all-stopped-containers"><a class="header" href="#remove-all-stopped-containers">Remove all stopped containers</a></h3>
<pre><code>docker container prune
</code></pre>
<h3 id="force-remove-a-running-container"><a class="header" href="#force-remove-a-running-container">Force remove a running container</a></h3>
<pre><code>docker rm -f container_name
</code></pre>
<h3 id="execute-command-in-running-container"><a class="header" href="#execute-command-in-running-container">Execute command in running container</a></h3>
<pre><code>docker exec -it container_name bash
</code></pre>
<h3 id="copy-files-tofrom-container"><a class="header" href="#copy-files-tofrom-container">Copy files to/from container</a></h3>
<pre><code>docker cp file.txt container_name:/path/to/destination
docker cp container_name:/path/to/file.txt ./local/path
</code></pre>
<h3 id="view-container-logs"><a class="header" href="#view-container-logs">View container logs</a></h3>
<pre><code>docker logs container_name
</code></pre>
<h3 id="follow-logs-in-real-time"><a class="header" href="#follow-logs-in-real-time">Follow logs in real-time</a></h3>
<pre><code>docker logs -f container_name
</code></pre>
<h3 id="view-container-resource-usage"><a class="header" href="#view-container-resource-usage">View container resource usage</a></h3>
<pre><code>docker stats
</code></pre>
<h3 id="inspect-container-details"><a class="header" href="#inspect-container-details">Inspect container details</a></h3>
<pre><code>docker inspect container_name
</code></pre>
<h2 id="image-management"><a class="header" href="#image-management">Image Management</a></h2>
<h3 id="list-local-images"><a class="header" href="#list-local-images">List local images</a></h3>
<pre><code>docker images
</code></pre>
<h3 id="pull-an-image-from-registry"><a class="header" href="#pull-an-image-from-registry">Pull an image from registry</a></h3>
<pre><code>docker pull ubuntu:20.04
</code></pre>
<h3 id="remove-an-image"><a class="header" href="#remove-an-image">Remove an image</a></h3>
<pre><code>docker rmi image_name
</code></pre>
<h3 id="remove-unused-images"><a class="header" href="#remove-unused-images">Remove unused images</a></h3>
<pre><code>docker image prune
</code></pre>
<h3 id="remove-all-unused-images"><a class="header" href="#remove-all-unused-images">Remove all unused images</a></h3>
<pre><code>docker image prune -a
</code></pre>
<h3 id="build-image-from-dockerfile"><a class="header" href="#build-image-from-dockerfile">Build image from Dockerfile</a></h3>
<pre><code>docker build -t my-app .
</code></pre>
<h3 id="build-with-custom-dockerfile-name"><a class="header" href="#build-with-custom-dockerfile-name">Build with custom Dockerfile name</a></h3>
<pre><code>docker build -t my-app -f custom.dockerfile .
</code></pre>
<h3 id="tag-an-image"><a class="header" href="#tag-an-image">Tag an image</a></h3>
<pre><code>docker tag source_image:tag target_image:tag
</code></pre>
<h3 id="push-image-to-registry"><a class="header" href="#push-image-to-registry">Push image to registry</a></h3>
<pre><code>docker push username/image_name:tag
</code></pre>
<h3 id="search-for-images"><a class="header" href="#search-for-images">Search for images</a></h3>
<pre><code>docker search nginx
</code></pre>
<h3 id="view-image-history"><a class="header" href="#view-image-history">View image history</a></h3>
<pre><code>docker history image_name
</code></pre>
<h2 id="docker-compose"><a class="header" href="#docker-compose">Docker Compose</a></h2>
<h3 id="install-docker-compose-linux"><a class="header" href="#install-docker-compose-linux">Install Docker Compose (Linux)</a></h3>
<pre><code>sudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose
</code></pre>
<h3 id="start-services-defined-in-docker-composeyml"><a class="header" href="#start-services-defined-in-docker-composeyml">Start services defined in docker-compose.yml</a></h3>
<pre><code>docker-compose up
</code></pre>
<h3 id="start-services-in-background"><a class="header" href="#start-services-in-background">Start services in background</a></h3>
<pre><code>docker-compose up -d
</code></pre>
<h3 id="stop-services"><a class="header" href="#stop-services">Stop services</a></h3>
<pre><code>docker-compose down
</code></pre>
<h3 id="view-running-services"><a class="header" href="#view-running-services">View running services</a></h3>
<pre><code>docker-compose ps
</code></pre>
<h3 id="view-logs"><a class="header" href="#view-logs">View logs</a></h3>
<pre><code>docker-compose logs
</code></pre>
<h3 id="follow-logs"><a class="header" href="#follow-logs">Follow logs</a></h3>
<pre><code>docker-compose logs -f
</code></pre>
<h3 id="rebuild-and-start-services"><a class="header" href="#rebuild-and-start-services">Rebuild and start services</a></h3>
<pre><code>docker-compose up --build
</code></pre>
<h3 id="scale-a-service"><a class="header" href="#scale-a-service">Scale a service</a></h3>
<pre><code>docker-compose up --scale web=3
</code></pre>
<h3 id="execute-command-in-service"><a class="header" href="#execute-command-in-service">Execute command in service</a></h3>
<pre><code>docker-compose exec service_name bash
</code></pre>
<h2 id="networking"><a class="header" href="#networking">Networking</a></h2>
<h3 id="list-networks"><a class="header" href="#list-networks">List networks</a></h3>
<pre><code>docker network ls
</code></pre>
<h3 id="create-a-network"><a class="header" href="#create-a-network">Create a network</a></h3>
<pre><code>docker network create my-network
</code></pre>
<h3 id="connect-container-to-network"><a class="header" href="#connect-container-to-network">Connect container to network</a></h3>
<pre><code>docker network connect my-network container_name
</code></pre>
<h3 id="disconnect-container-from-network"><a class="header" href="#disconnect-container-from-network">Disconnect container from network</a></h3>
<pre><code>docker network disconnect my-network container_name
</code></pre>
<h3 id="run-container-on-specific-network"><a class="header" href="#run-container-on-specific-network">Run container on specific network</a></h3>
<pre><code>docker run --network my-network nginx
</code></pre>
<h3 id="remove-network"><a class="header" href="#remove-network">Remove network</a></h3>
<pre><code>docker network rm my-network
</code></pre>
<h3 id="inspect-network"><a class="header" href="#inspect-network">Inspect network</a></h3>
<pre><code>docker network inspect my-network
</code></pre>
<h2 id="volumes"><a class="header" href="#volumes">Volumes</a></h2>
<h3 id="list-volumes"><a class="header" href="#list-volumes">List volumes</a></h3>
<pre><code>docker volume ls
</code></pre>
<h3 id="create-a-volume"><a class="header" href="#create-a-volume">Create a volume</a></h3>
<pre><code>docker volume create my-volume
</code></pre>
<h3 id="remove-a-volume"><a class="header" href="#remove-a-volume">Remove a volume</a></h3>
<pre><code>docker volume rm my-volume
</code></pre>
<h3 id="remove-unused-volumes"><a class="header" href="#remove-unused-volumes">Remove unused volumes</a></h3>
<pre><code>docker volume prune
</code></pre>
<h3 id="inspect-volume"><a class="header" href="#inspect-volume">Inspect volume</a></h3>
<pre><code>docker volume inspect my-volume
</code></pre>
<h3 id="run-container-with-named-volume"><a class="header" href="#run-container-with-named-volume">Run container with named volume</a></h3>
<pre><code>docker run -v my-volume:/data ubuntu
</code></pre>
<h3 id="run-container-with-bind-mount"><a class="header" href="#run-container-with-bind-mount">Run container with bind mount</a></h3>
<pre><code>docker run -v /host/path:/container/path ubuntu
</code></pre>
<h2 id="common-docker-setups"><a class="header" href="#common-docker-setups">Common Docker Setups</a></h2>
<h3 id="web-server-nginx"><a class="header" href="#web-server-nginx">Web Server (Nginx)</a></h3>
<pre><code>docker run -d --name web-server -p 80:80 -v /path/to/html:/usr/share/nginx/html nginx
</code></pre>
<h3 id="database-mysql"><a class="header" href="#database-mysql">Database (MySQL)</a></h3>
<pre><code>docker run -d --name mysql-db -e MYSQL_ROOT_PASSWORD=password -e MYSQL_DATABASE=mydb -p 3306:3306 mysql:8.0
</code></pre>
<h3 id="database-postgresql"><a class="header" href="#database-postgresql">Database (PostgreSQL)</a></h3>
<pre><code>docker run -d --name postgres-db -e POSTGRES_PASSWORD=password -e POSTGRES_DB=mydb -p 5432:5432 postgres:13
</code></pre>
<h3 id="redis-cache"><a class="header" href="#redis-cache">Redis Cache</a></h3>
<pre><code>docker run -d --name redis-cache -p 6379:6379 redis:alpine
</code></pre>
<h3 id="wordpress-with-mysql"><a class="header" href="#wordpress-with-mysql">WordPress with MySQL</a></h3>
<pre><code>docker run -d --name wordpress-db -e MYSQL_ROOT_PASSWORD=password -e MYSQL_DATABASE=wordpress mysql:8.0
docker run -d --name wordpress-site --link wordpress-db:mysql -p 8080:80 -e WORDPRESS_DB_HOST=mysql -e WORDPRESS_DB_NAME=wordpress -e WORDPRESS_DB_PASSWORD=password wordpress
</code></pre>
<h3 id="nodejs-application"><a class="header" href="#nodejs-application">Node.js Application</a></h3>
<pre><code>docker run -d --name node-app -p 3000:3000 -v /path/to/app:/usr/src/app -w /usr/src/app node:16 npm start
</code></pre>
<h2 id="dockerfile-examples"><a class="header" href="#dockerfile-examples">Dockerfile Examples</a></h2>
<h3 id="basic-nodejs-dockerfile"><a class="header" href="#basic-nodejs-dockerfile">Basic Node.js Dockerfile</a></h3>
<p>Create a file named <code>Dockerfile</code>:</p>
<pre><code>FROM node:16-alpine
WORKDIR /usr/src/app
COPY package*.json ./
RUN npm install
COPY . .
EXPOSE 3000
CMD ["npm", "start"]
</code></pre>
<p>Build and run:</p>
<pre><code>docker build -t my-node-app .
docker run -p 3000:3000 my-node-app
</code></pre>
<h3 id="basic-python-dockerfile"><a class="header" href="#basic-python-dockerfile">Basic Python Dockerfile</a></h3>
<pre><code>FROM python:3.9-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt
COPY . .
EXPOSE 5000
CMD ["python", "app.py"]
</code></pre>
<h3 id="multi-stage-build-example"><a class="header" href="#multi-stage-build-example">Multi-stage Build Example</a></h3>
<pre><code>FROM node:16 AS builder
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
RUN npm run build

FROM nginx:alpine
COPY --from=builder /app/build /usr/share/nginx/html
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
</code></pre>
<h2 id="docker-compose-examples"><a class="header" href="#docker-compose-examples">Docker Compose Examples</a></h2>
<h3 id="basic-docker-composeyml"><a class="header" href="#basic-docker-composeyml">Basic docker-compose.yml</a></h3>
<pre><code>version: '3.8'
services:
  web:
    image: nginx
    ports:
      - "80:80"
    volumes:
      - ./html:/usr/share/nginx/html
  
  db:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: password
      MYSQL_DATABASE: myapp
    volumes:
      - db_data:/var/lib/mysql

volumes:
  db_data:
</code></pre>
<h3 id="wordpress-with-docker-compose"><a class="header" href="#wordpress-with-docker-compose">WordPress with Docker Compose</a></h3>
<pre><code>version: '3.8'
services:
  wordpress:
    image: wordpress:latest
    ports:
      - "8080:80"
    environment:
      WORDPRESS_DB_HOST: db:3306
      WORDPRESS_DB_USER: wordpress
      WORDPRESS_DB_PASSWORD: password
      WORDPRESS_DB_NAME: wordpress
    depends_on:
      - db
  
  db:
    image: mysql:8.0
    environment:
      MYSQL_DATABASE: wordpress
      MYSQL_USER: wordpress
      MYSQL_PASSWORD: password
      MYSQL_ROOT_PASSWORD: rootpassword
    volumes:
      - db_data:/var/lib/mysql

volumes:
  db_data:
</code></pre>
<h2 id="system-maintenance"><a class="header" href="#system-maintenance">System Maintenance</a></h2>
<h3 id="view-docker-system-info"><a class="header" href="#view-docker-system-info">View Docker system info</a></h3>
<pre><code>docker system info
</code></pre>
<h3 id="view-disk-usage"><a class="header" href="#view-disk-usage">View disk usage</a></h3>
<pre><code>docker system df
</code></pre>
<h3 id="clean-up-everything"><a class="header" href="#clean-up-everything">Clean up everything</a></h3>
<pre><code>docker system prune -a
</code></pre>
<h3 id="clean-up-with-volumes"><a class="header" href="#clean-up-with-volumes">Clean up with volumes</a></h3>
<pre><code>docker system prune -a --volumes
</code></pre>
<h3 id="remove-all-containers"><a class="header" href="#remove-all-containers">Remove all containers</a></h3>
<pre><code>docker rm -f $(docker ps -aq)
</code></pre>
<h3 id="remove-all-images"><a class="header" href="#remove-all-images">Remove all images</a></h3>
<pre><code>docker rmi -f $(docker images -q)
</code></pre>
<h3 id="update-all-images"><a class="header" href="#update-all-images">Update all images</a></h3>
<pre><code>docker images --format "table {{.Repository}}:{{.Tag}}" | tail -n +2 | xargs -L1 docker pull
</code></pre>
<h2 id="registry-operations"><a class="header" href="#registry-operations">Registry Operations</a></h2>
<h3 id="login-to-docker-registry"><a class="header" href="#login-to-docker-registry">Login to Docker Registry</a></h3>
<pre><code>docker login
</code></pre>
<h3 id="login-to-private-registry"><a class="header" href="#login-to-private-registry">Login to private registry</a></h3>
<pre><code>docker login registry.example.com
</code></pre>
<h3 id="tag-for-registry"><a class="header" href="#tag-for-registry">Tag for registry</a></h3>
<pre><code>docker tag my-app username/my-app:v1.0
</code></pre>
<h3 id="push-to-registry"><a class="header" href="#push-to-registry">Push to registry</a></h3>
<pre><code>docker push username/my-app:v1.0
</code></pre>
<h3 id="pull-from-private-registry"><a class="header" href="#pull-from-private-registry">Pull from private registry</a></h3>
<pre><code>docker pull registry.example.com/my-app:v1.0
</code></pre>
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<h3 id="container-wont-start"><a class="header" href="#container-wont-start">Container won't start</a></h3>
<p>Check logs:</p>
<pre><code>docker logs container_name
</code></pre>
<h3 id="permission-denied-errors"><a class="header" href="#permission-denied-errors">Permission denied errors</a></h3>
<p>Fix ownership (Linux):</p>
<pre><code>sudo chown -R $USER:$USER /path/to/files
</code></pre>
<h3 id="port-already-in-use"><a class="header" href="#port-already-in-use">Port already in use</a></h3>
<p>Find process using port:</p>
<pre><code>sudo lsof -i :8080
</code></pre>
<p>Kill process:</p>
<pre><code>sudo kill -9 PID
</code></pre>
<h3 id="out-of-disk-space"><a class="header" href="#out-of-disk-space">Out of disk space</a></h3>
<p>Clean up Docker:</p>
<pre><code>docker system prune -a --volumes
</code></pre>
<h3 id="container-runs-but-app-doesnt-work"><a class="header" href="#container-runs-but-app-doesnt-work">Container runs but app doesn't work</a></h3>
<p>Check if container is listening on correct port:</p>
<pre><code>docker exec container_name netstat -tlnp
</code></pre>
<h3 id="cant-connect-to-docker-daemon"><a class="header" href="#cant-connect-to-docker-daemon">Can't connect to Docker daemon</a></h3>
<p>Start Docker service:</p>
<pre><code>sudo systemctl start docker
</code></pre>
<p>Add user to docker group:</p>
<pre><code>sudo usermod -aG docker $USER
</code></pre>
<h2 id="security-best-practices"><a class="header" href="#security-best-practices">Security Best Practices</a></h2>
<h3 id="run-containers-as-non-root-user"><a class="header" href="#run-containers-as-non-root-user">Run containers as non-root user</a></h3>
<pre><code>docker run --user 1000:1000 ubuntu
</code></pre>
<h3 id="limit-container-resources"><a class="header" href="#limit-container-resources">Limit container resources</a></h3>
<pre><code>docker run --memory="256m" --cpus="1.0" ubuntu
</code></pre>
<h3 id="use-read-only-filesystem"><a class="header" href="#use-read-only-filesystem">Use read-only filesystem</a></h3>
<pre><code>docker run --read-only ubuntu
</code></pre>
<h3 id="drop-capabilities"><a class="header" href="#drop-capabilities">Drop capabilities</a></h3>
<pre><code>docker run --cap-drop=ALL --cap-add=NET_BIND_SERVICE nginx
</code></pre>
<h3 id="scan-images-for-vulnerabilities"><a class="header" href="#scan-images-for-vulnerabilities">Scan images for vulnerabilities</a></h3>
<pre><code>docker scout quickview image_name
</code></pre>
<h3 id="use-official-images-when-possible"><a class="header" href="#use-official-images-when-possible">Use official images when possible</a></h3>
<pre><code>docker pull nginx:alpine
</code></pre>
<h2 id="performance-tips"><a class="header" href="#performance-tips">Performance Tips</a></h2>
<h3 id="use-specific-image-tags"><a class="header" href="#use-specific-image-tags">Use specific image tags</a></h3>
<p>Instead of:</p>
<pre><code>docker pull nginx:latest
</code></pre>
<p>Use:</p>
<pre><code>docker pull nginx:1.21-alpine
</code></pre>
<h3 id="use-multi-stage-builds"><a class="header" href="#use-multi-stage-builds">Use multi-stage builds</a></h3>
<p>Reduces final image size by excluding build dependencies.</p>
<h3 id="use-dockerignore"><a class="header" href="#use-dockerignore">Use .dockerignore</a></h3>
<p>Create <code>.dockerignore</code> file to exclude unnecessary files:</p>
<pre><code>node_modules
.git
*.log
.env
</code></pre>
<h3 id="optimize-layer-caching"><a class="header" href="#optimize-layer-caching">Optimize layer caching</a></h3>
<p>Place frequently changing instructions at the bottom of Dockerfile.</p>
<h3 id="use-alpine-images"><a class="header" href="#use-alpine-images">Use Alpine images</a></h3>
<pre><code>docker pull node:16-alpine
</code></pre>
<p>Smaller size than full distributions.</p>
<h2 id="bash-tips-for-docker"><a class="header" href="#bash-tips-for-docker">Bash Tips for Docker</a></h2>
<h3 id="handle-container-names-with-spaces"><a class="header" href="#handle-container-names-with-spaces">Handle container names with spaces</a></h3>
<p>Always quote container names:</p>
<pre><code>docker exec -it "my container name" bash
</code></pre>
<h3 id="loop-through-containers"><a class="header" href="#loop-through-containers">Loop through containers</a></h3>
<pre><code>for container in $(docker ps -q); do
    echo "Container: $container"
    docker exec $container ps aux
done
</code></pre>
<h3 id="conditional-container-operations"><a class="header" href="#conditional-container-operations">Conditional container operations</a></h3>
<pre><code>if docker ps | grep -q nginx; then
    echo "Nginx is running"
else
    docker run -d --name nginx nginx
fi
</code></pre>
<h3 id="save-container-logs"><a class="header" href="#save-container-logs">Save container logs</a></h3>
<pre><code>docker logs container_name &gt; container.log 2&gt;&amp;1
</code></pre>
<h3 id="backup-and-restore-containers"><a class="header" href="#backup-and-restore-containers">Backup and restore containers</a></h3>
<p>Export container:</p>
<pre><code>docker export container_name &gt; backup.tar
</code></pre>
<p>Import container:</p>
<pre><code>docker import backup.tar my-image:latest
</code></pre>
<h2 id="quick-reference"><a class="header" href="#quick-reference">Quick Reference</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody>
<tr><td><code>docker run -it</code></td><td>Run interactively</td></tr>
<tr><td><code>docker run -d</code></td><td>Run in background</td></tr>
<tr><td><code>docker ps</code></td><td>List running containers</td></tr>
<tr><td><code>docker ps -a</code></td><td>List all containers</td></tr>
<tr><td><code>docker stop</code></td><td>Stop container</td></tr>
<tr><td><code>docker rm</code></td><td>Remove container</td></tr>
<tr><td><code>docker images</code></td><td>List images</td></tr>
<tr><td><code>docker rmi</code></td><td>Remove image</td></tr>
<tr><td><code>docker exec -it</code></td><td>Execute command in container</td></tr>
<tr><td><code>docker logs</code></td><td>View container logs</td></tr>
<tr><td><code>docker build</code></td><td>Build image from Dockerfile</td></tr>
<tr><td><code>docker-compose up</code></td><td>Start services</td></tr>
<tr><td><code>docker-compose down</code></td><td>Stop services</td></tr>
<tr><td><code>docker system prune</code></td><td>Clean up unused resources</td></tr>
</tbody></table>
</div>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->

                            <a rel="next prefetch" href="yt-dlp.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

                    <a rel="next prefetch" href="yt-dlp.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
